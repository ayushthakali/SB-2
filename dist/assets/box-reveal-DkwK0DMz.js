import{r as l,j as i}from"./index-DKR4F3KR.js";import{h as p,s as h,u as m,b,g as v,e as d}from"./use-in-view-LDdNSrcJ.js";function y(t){t.values.forEach(s=>s.stop())}function a(t,s){[...s].reverse().forEach(n=>{const r=t.getVariant(n);r&&h(t,r),t.variantChildren&&t.variantChildren.forEach(o=>{a(o,s)})})}function x(t,s){if(Array.isArray(s))return a(t,s);if(typeof s=="string")return a(t,[s]);h(t,s)}function C(){const t=new Set,s={subscribe(e){return t.add(e),()=>void t.delete(e)},start(e,n){const r=[];return t.forEach(o=>{r.push(p(o,e,{transitionOverride:n}))}),Promise.all(r)},set(e){return t.forEach(n=>{x(n,e)})},stop(){t.forEach(e=>{y(e)})},mount(){return()=>{s.stop()}}};return s}function g(){const t=m(C);return b(t.mount,[]),t}const f=g,A=({children:t,width:s="fit-content",boxColor:e="#5046e6",duration:n})=>{const r=f(),o=f(),c=l.useRef(null),u=v(c,{once:!0});return l.useEffect(()=>{u?(o.start("visible"),r.start("visible")):(o.start("hidden"),r.start("hidden"))},[u,r,o]),i.jsxs("div",{ref:c,style:{position:"relative",width:s,overflow:"hidden"},children:[i.jsx(d.div,{variants:{hidden:{opacity:0,y:75},visible:{opacity:1,y:0}},initial:"hidden",animate:r,transition:{duration:n||.5,delay:.25},children:t}),i.jsx(d.div,{variants:{hidden:{left:0},visible:{left:"100%"}},initial:"hidden",animate:o,transition:{duration:n||.5,ease:"easeIn"},style:{position:"absolute",top:4,bottom:4,left:0,right:0,zIndex:20,background:e}})]})};export{A as B};
